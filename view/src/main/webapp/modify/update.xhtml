<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="../template.xhtml"
                xmlns:uib="http://engagepoint.com/uib">
<h:head>
    <title>Update page</title>
</h:head>

<ui:define name="mainContent">
    <h2>Update type</h2>

    <uib:gridContainer>

        <uib:gridRow>
            <uib:gridColumn column="12">
                <h:form id="mainForm">
                    <p:wizard id="tab" dynamic="true">

                        <p:tab id="tab1" title="Select type" >
                            <h:panelGrid columns="2" cellpadding="10">
                                <ui:include src="/modify/showTreeUpdate.xhtml"/>
                                <h:inputHidden id="typeUpdateAbility" value="#{updateBean.canUpdate}" required="true"/>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab id="tab2" title="Attributes" >
                            <h:panelGrid id="grid" columns="2" cellpadding="10">
                                <ui:include src="/modify/updateAttributes.xhtml"/>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab id="tab3" title="Metadata">
                            <h:panelGrid columns="1" cellpadding="10">
                                <ui:include src="/modify/updateMetadata.xhtml"/>
                            </h:panelGrid>
                        </p:tab>

                    </p:wizard>
                </h:form>


            </uib:gridColumn>
        </uib:gridRow>

    </uib:gridContainer>

    <h:form id="updatePropertyForm" prependId="false">
        <p:dialog id="updatePropertyModal" widgetVar="updatePropertyDialog" modal="true" header="Update property"
                  draggable="true" resizable="false" width="200">
            <p:panelGrid columns="2">

                <h:outputText value="ID: "/>
                <p:inputText id="idUpdate" value="#{updateBean.newPropertyRow.id}"/>

                <h:outputText value="Local Name: "/>
                <p:inputText id="localnameUpdate" value="#{updateBean.newPropertyRow.localName}"/>

                <h:outputText value="Local Namespace: "/>
                <p:inputText id="localnamespaceUpdate" value="#{updateBean.newPropertyRow.localNamespace}"/>

                <h:outputText value="Display Name: "/>
                <p:inputText id="displaynameUpdate" value="#{updateBean.newPropertyRow.displayName}"/>

                <h:outputText value="Query Name: "/>
                <p:inputText id="querynameUpdate" value="#{updateBean.newPropertyRow.queryName}"/>

                <h:outputText value="Description: "/>
                <p:inputText id="descriptionUpdate" value="#{updateBean.newPropertyRow.description}"/>

                <h:outputText value="Inherited: "/>
                <p:selectBooleanCheckbox id="inheritedUpdate" value="#{updateBean.newPropertyRow.inherited}"/>

                <h:outputText value="Required: "/>
                <p:selectBooleanCheckbox id="requiredUpdate" value="#{updateBean.newPropertyRow.required}"/>

                <h:outputText value="Queryable: "/>
                <p:selectBooleanCheckbox id="queryableUpdate" value="#{updateBean.newPropertyRow.queryable}"/>

                <h:outputText value="Orderable: "/>
                <p:selectBooleanCheckbox id="orderableUpdate" value="#{updateBean.newPropertyRow.orderable}"/>

                <h:outputText value="Open Choice: "/>
                <p:selectBooleanCheckbox id="openChoiceUpdate" value="#{updateBean.newPropertyRow.openChoice}"/>

                <h:outputText value="Property Type: "/>
                <p:selectOneMenu id="selectPropertyTypeUpdate" value="#{updateBean.newPropertyRow.propertyType}">
                    <f:selectItems value="#{updateBean.propertyTypeEnums}"/>
                </p:selectOneMenu>

                <h:outputText value="Cardinality: "/>
                <p:selectOneMenu id="selectCardinalityUpdate" value="#{updateBean.newPropertyRow.cardinality}">
                    <f:selectItems value="#{updateBean.cardinalityEnums}"/>
                </p:selectOneMenu>

                <h:outputText value="Updatability: "/>
                <p:selectOneMenu id="selectUpdatabilityUpdate" value="#{updateBean.newPropertyRow.updatability}">
                    <f:selectItems value="#{updateBean.updatabilityEnums}"/>
                </p:selectOneMenu>

            </p:panelGrid>

            <f:facet name="footer">

                <uib:gridContainer styleClass="pad">

                    <uib:gridRow fluid="true">
                        <uib:gridColumn column="6">
                            <p:outputLabel value="" />
                        </uib:gridColumn>
                        <uib:gridColumn column="3">
                            <p:commandButton id="cancelUpdate" title="Cancel" mode="client" value="Cancel"
                                             styleClass="secondary" oncomplete="updatePropertyDialog.hide()" />
                        </uib:gridColumn>
                        <uib:gridColumn column="3">
                            <p:commandButton id="addUpdate" title="Submit" mode="client" value="Add metadata"
                                             oncomplete="updatePropertyDialog.hide()" update=":mainForm"
                                             action="#{updateBean.submitChanges}" />
                        </uib:gridColumn>
                    </uib:gridRow>
                </uib:gridContainer>

            </f:facet>

        </p:dialog>
    </h:form>

    <h:form id="addMetadata" prependId="false">
        <p:dialog id="addMetadataModal" widgetVar="addMetadataDialog" modal="true" header="Add metadata"
                  draggable="true" resizable="false" width="200">
            <p:panelGrid columns="2" id="metadataGrid">

                <h:outputText value="ID: "/>
                <p:inputText id="id" value="#{updateBean.newPropertyRow.id}"/>

                <h:outputText value="Local Name: "/>
                <p:inputText id="localname" value="#{updateBean.newPropertyRow.localName}"/>

                <h:outputText value="Local Namespace: "/>
                <p:inputText id="localnamespace" value="#{updateBean.newPropertyRow.localNamespace}"/>

                <h:outputText value="Display Name: "/>
                <p:inputText id="displayname" value="#{updateBean.newPropertyRow.displayName}"/>

                <h:outputText value="Query Name: "/>
                <p:inputText id="queryname" value="#{updateBean.newPropertyRow.queryName}"/>

                <h:outputText value="Description: "/>
                <p:inputText value="#{updateBean.newPropertyRow.description}"/>

                <h:outputText value="Inherited: "/>
                <p:selectBooleanCheckbox value="#{updateBean.newPropertyRow.inherited}"/>

                <h:outputText value="Required: "/>
                <p:selectBooleanCheckbox value="#{updateBean.newPropertyRow.required}"/>

                <h:outputText value="Queryable: "/>
                <p:selectBooleanCheckbox value="#{updateBean.newPropertyRow.queryable}"/>

                <h:outputText value="Orderable: "/>
                <p:selectBooleanCheckbox value="#{updateBean.newPropertyRow.orderable}"/>

                <h:outputText value="Open Choice: "/>
                <p:selectBooleanCheckbox value="#{updateBean.newPropertyRow.openChoice}"/>

                <h:outputText value="Property Type: "/>
                <p:selectOneMenu id="selectPropertyType" value="#{updateBean.newPropertyRow.propertyType}">
                    <f:selectItems value="#{updateBean.propertyTypeEnums}"/>
                </p:selectOneMenu>

                <h:outputText value="Cardinality: "/>
                <p:selectOneMenu id="selectCardinality" value="#{updateBean.newPropertyRow.cardinality}">
                    <f:selectItems value="#{updateBean.cardinalityEnums}"/>
                </p:selectOneMenu>

                <h:outputText value="Updatability: "/>
                <p:selectOneMenu id="selectUpdatability" value="#{updateBean.newPropertyRow.updatability}">
                    <f:selectItems value="#{updateBean.updatabilityEnums}"/>
                </p:selectOneMenu>

            </p:panelGrid>

            <f:facet name="footer">

                <uib:gridContainer styleClass="pad">

                    <uib:gridRow fluid="true">
                        <uib:gridColumn column="6">
                            <p:outputLabel value="" />
                        </uib:gridColumn>
                        <uib:gridColumn column="3">
                            <p:commandButton title="Cancel" mode="client" value="Cancel"
                                             styleClass="secondary" oncomplete="addMetadataDialog.hide()" />
                        </uib:gridColumn>
                        <uib:gridColumn column="3">
                            <p:commandButton id="add" title="Add" mode="client" value="Add metadata"
                                             oncomplete="addMetadataDialog.hide()" update=":mainForm"
                                             action="#{updateBean.addProperty}" />
                        </uib:gridColumn>
                    </uib:gridRow>
                </uib:gridContainer>

            </f:facet>

        </p:dialog>
    </h:form>

</ui:define>
</ui:composition>
