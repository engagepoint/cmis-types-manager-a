<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:uib="http://engagepoint.com/uib">

    <uib:gridColumn column="4">
        <p:commandButton title="Add metadata" id="addMetadata" value="Add metadata"
                         styleClass="secondary" update=":fullPropertyForm"
                         action="#{createBean.clearNewPropertyRow}" oncomplete="addMetadataDialog.show()"/>
    </uib:gridColumn>


    <uib:dataTable id="allNewProperties" var="property" rows="3" paginator="true"
                   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                   value="#{createBean.newTypeDTO.propertyList}" selection="#{createBean.propertyRowList}">

        <f:attribute name="propRow" value="#{property}"/>
        <p:column headerText="ID" width="230">
            <h:outputText id="prop_id" value="#{property.id}" var="id"/>
        </p:column>
        <p:column headerText="Display Name" width="230">
            <h:outputText value="#{property.displayName}"/>
        </p:column>
        <p:column headerText="Description" width="230">
            <h:outputText value="#{property.description}"/>
        </p:column>
        <p:column headerText="Full Info" width="30">

            <p:commandLink title="Full Info" id="fullInfo"
                           actionListener="#{createBean.setNewPropertyRowCreate(property)}"
                           update=":fullPropertyForm"
                           oncomplete="jQuery('#fullPropertyModal').modal('show');return false;">
                <uib:icon id="one" value='page-details' alt='page-details' title='Full info'/>
            </p:commandLink>

        </p:column>
    </uib:dataTable>

    <uib:dataTable id="allProperties" var="property" rows="5" paginator="true"
                   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                   value="#{createBean.currentDTO.propertyList}" selection="#{createBean.propertyRowList}">
        <f:attribute name="propRow" value="#{property}"/>
        <p:column headerText="ID" width="230">
            <h:outputText id="prop_id" value="#{property.id}" var="id"/>
        </p:column>
        <p:column headerText="Display Name" width="230">
            <h:outputText value="#{property.displayName}"/>
        </p:column>
        <p:column headerText="Description" width="230">
            <h:outputText value="#{property.description}"/>
        </p:column>
        <p:column headerText="Full Info" width="30">

            <p:commandLink title="Full Info" id="fullInfo"
                           actionListener="#{createBean.setNewPropertyRowCreate(property)}"
                           update=":fullPropertyForm"
                           oncomplete="jQuery('#fullPropertyModal').modal('show');return false;">
                <uib:icon id="one" value='page-details' alt='page-details' title='Full info'/>
            </p:commandLink>

        </p:column>
    </uib:dataTable>

     <p:commandButton title="Create type" id="addType" value="Done"
                      action="/show/index?faces-redirect=true"
                      actionListener="#{treeBean.createType(createBean.newTypeDTO)}"/>



</ui:composition>