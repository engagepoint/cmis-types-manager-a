<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:uib="http://engagepoint.com/uib">

    <uib:dataTable id="allNewProperties" var="property"
                   rows="5" paginator="true"
                   value="#{createBean.newTypeDTO.propertyList}" selection="#{createBean.propertyRowList}">
        <f:attribute name="propRow" value="#{property}"/>
        <p:column headerText="ID">
            <h:outputText id="prop_id" value="#{property.id}" var="id"/>
        </p:column>
        <p:column headerText="Display Name">
            <h:outputText value="#{property.displayName}"/>
        </p:column>
        <p:column headerText="Description">
            <h:outputText value="#{property.description}"/>
        </p:column>
        <p:column headerText="Full Info">

            <p:commandButton title="Full Info" id="fullInfo" value="Info" styleClass="secondary"
                             actionListener="#{createBean.setNewPropertyRowCreate(property)}"
                             update=":fullPropertyForm"
                             oncomplete="jQuery('#fullPropertyModal').modal('show');return false;">
            </p:commandButton>

        </p:column>
    </uib:dataTable>

    <uib:dataTable id="allProperties" var="property"
                   rows="5" paginator="true"
                   value="#{createBean.currentDTO.propertyList}" selection="#{createBean.propertyRowList}">
        <f:attribute name="propRow" value="#{property}"/>
        <p:column headerText="ID">
            <h:outputText id="prop_id" value="#{property.id}" var="id"/>
        </p:column>
        <p:column headerText="Display Name">
            <h:outputText value="#{property.displayName}"/>
        </p:column>
        <p:column headerText="Description">
            <h:outputText value="#{property.description}"/>
        </p:column>
        <p:column headerText="Full Info">

            <p:commandButton title="Full Info" id="fullInfo" value="Info" styleClass="secondary"
                             actionListener="#{createBean.setNewPropertyRowCreate(property)}"
                             update=":fullPropertyForm"
                             oncomplete="jQuery('#fullPropertyModal').modal('show');return false;">
            </p:commandButton>

        </p:column>
    </uib:dataTable>

    <uib:gridContainer>
        <uib:gridRow fluid="true">
            <uib:gridColumn column="4"> <p:commandButton title="Create type" id="addType" value="Create"
                                                         action="/show/index?faces-redirect=true"
                                                         actionListener="#{treeBean.createType(createBean.newTypeDTO)}"/></uib:gridColumn>
            <uib:gridColumn column="4">
                <p:commandButton title="Add metadata" id="addMetadata" value="Add metadata"
                                 update=":addMetadata" action="#{createBean.clearNewPropertyRow}" oncomplete="addMetadataDialog.show()"/>
            </uib:gridColumn>
        </uib:gridRow>
    </uib:gridContainer>

</ui:composition>