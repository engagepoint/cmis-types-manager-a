<h:form xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:h="http://java.sun.com/jsf/html"
        template="../template.xhtml"
        xmlns:uib="http://engagepoint.com/uib"
        id="allPropertiesForm" prependId="false" rendered="#{showBean.attributesVisible}">
    <p:selectCheckboxMenu value="#{tableBean.selectedColumns}"
                          id="select"
                          label="Select Columns for property table(maximum 4)"
                          panelStyle="width:200px">
        <p:message for="select" id="msg" />
        <f:validator validatorId="com.engagepoint.teama.cmismanager.view.util.SelectColumnValidator"/>
        <p:ajax update="allProperties, msg"/>
        <f:selectItems value="#{tableBean.columnsHeader}" />
    </p:selectCheckboxMenu>

    <uib:dataTable id="allProperties" var="property"
                   rows="5"
                   paginator="true"
                   value="#{showBean.currentDTO.propertyRows}" selection="#{showBean.propertyRowList}">
        <f:attribute name="propRow" value="#{property}"/>

        <p:columns value="#{tableBean.selectedColumns}" sortBy="column" var="column" columnIndexVar="colIndex">
            <f:facet name="header">
                #{column}
            </f:facet>
            #{property[column]}
        </p:columns>

        <p:column headerText="Full Info">
            <p:commandLink title="Full Info" id="fullInfo"
                           actionListener="#{showBean.setNewPropertyRowShow(property)}"
                           update=":fullPropertyForm"
                           oncomplete="jQuery('#fullPropertyModal').modal('show');return false;">
                <uib:icon id="one" value='page-details' alt='page-details' title='Full info'/>
            </p:commandLink>
        </p:column>
    </uib:dataTable>



</h:form>